{% extends "base_window.html" %}
{% block title %}Update Driver{% endblock title %}
{% load crispy_forms_tags %}
{% block content %}
<style> 
    legend {
        display: none;
    }

    .form-text {
        display: none;
    }

    .form-check {
        display: none;
    }

    #id_address {
        height: 100px;
    }

    #id_username{
        background-color: #eeeded;
    }
     #id_is_active {
    height: 40px;
    width: 40px;
}
</style>
<main id="main" class="main">

    
    <section class="section dashboard">
        <div class="alert alert-warning text-center mt-2 p-1">
            <h2>Update Driver Profile </h2>
        </div>
        <div class="container-fluid mb-3 form-header p-3">
            <div class="row p-1 rounded">
                <div class="col-sm-12">
                    <form id="createDriverForm" method="POST" enctype="multipart/form-data">
                        {% csrf_token %}
                        <div class="row">
                            <div class="col-sm-4">
                                {{ form.driver_name|as_crispy_field }}
                            </div>
                            <div class="col-sm-4">
                                {{ form.adhaar_number|as_crispy_field }}
                            </div>  
                            <div class="col-sm-4">
                                {{ form.license_number|as_crispy_field }}
                            </div>
                            <div class="col-sm-3">
                                {{ form.mobile_number|as_crispy_field }}
                            </div>
                            <div class="col-sm-3">
                                {{ form.alternate_mobile_number|as_crispy_field }}
                            </div>
                            <div class="col-sm-3">
                                {{ form.date_of_birth|as_crispy_field }}
                            </div>
                            <div class="col-sm-3">
                                {{ form.date_joined|as_crispy_field }}
                            </div>
                            <div class="col-sm-8">
                                {{ form.address|as_crispy_field }}
                            </div>
                            <div class="col-sm-4 ">
                                <div class="alert"  style="border-radius:30px; background:#c1eff7; border:2px solidrgb(76, 154, 168);">
                                    <label for="id_is_active">Is Active for Login</label>
                                    <br><br>
                                    {{ form.is_active }}
                                </div>
                            </div>
                            <div class="col-sm-3">
                                {{ form.adhaar_card_photo|as_crispy_field }}
                            </div>
                            <div class="col-sm-3">
                                {{ form.driving_license_photo|as_crispy_field }}
                            </div>
                            <div class="col-sm-3">
                                {{ form.profile_photo|as_crispy_field }}
                            </div>
                            <div class="col-sm-3">
                                {{ form.pan_card_photo|as_crispy_field }}
                            </div>  
                        </div> 
                        <center><button type="submit" class="btn btn-primary mt-1 px-5">Submit</button></center>
                    </form>

                </div>  
            </div>
        </div>

         
    </section>

</main><!-- End #main -->

 
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const dropdownIds = ['id_model',];
        dropdownIds.forEach(id => {
            const element = document.getElementById(id);
            if (element) {
                new Choices(element, {
                    searchEnabled: true,
                    itemSelectText: '',
                    noResultsText: 'No matching results',
                });
            }
        });
    });
</script>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        // Ensure this script runs only after the DOM is fully loaded
        {% if driver.user.is_active %}
            document.getElementById("id_is_active").checked = true;
        {% else %}
            document.getElementById("id_is_active").checked = false;
        {% endif %}
    });
</script>

{% endblock content %}